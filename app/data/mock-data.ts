import { ForumContactsResponse, NylasContact, ForumContact } from "../types/contacts.types";
import { NylasMessage, NylasMessageWithContact } from "../types/messages.types";
import { NylasThread, ForumThreadWithContact } from "../types/threads.types";
import { FetchDataResponse } from "../types/api.types";

// Mock Nylas Contacts
export const mockNylasContacts: NylasContact[] = [
  {
    emails: [{ email: "john.doe@example.com" }],
    given_name: "John",
    grant_id: "grant_123",
    groups: [{ id: "group_1" }],
    id: "contact_1",
    im_addresses: [],
    object: "contact",
    phone_numbers: ["+1234567890"],
    physical_addresses: [],
    picture_url: "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",
    surname: "Doe",
    source: "nylas",
    web_pages: [],
    updated_at: 1704067200,
    job_title: "Software Engineer",
  },
  {
    emails: [{ email: "jane.smith@example.com" }],
    given_name: "Jane",
    grant_id: "grant_123",
    groups: [{ id: "group_1" }],
    id: "contact_2",
    im_addresses: [],
    object: "contact",
    phone_numbers: ["+0987654321"],
    physical_addresses: [],
    picture_url: "https://images.unsplash.com/photo-1494790108755-2616b332c9c1?w=150&h=150&fit=crop&crop=face",
    surname: "Smith",
    source: "nylas",
    web_pages: [],
    updated_at: 1704067200,
    job_title: "Product Manager",
  },
  {
    emails: [{ email: "jane.smith@example.com" }],
    given_name: "Jane",
    grant_id: "grant_123",
    groups: [{ id: "group_1" }],
    id: "contact_2",
    im_addresses: [],
    object: "contact",
    phone_numbers: ["+0987654321"],
    physical_addresses: [],
    picture_url: "https://images.unsplash.com/photo-1494790108755-2616b332c9c1?w=150&h=150&fit=crop&crop=face",
    surname: "Smith",
    source: "nylas",
    web_pages: [],
    updated_at: 1704067200,
    job_title: "Product Manager",
  },
  {
    emails: [{ email: "jane.smith@example.com" }],
    given_name: "Jane",
    grant_id: "grant_123",
    groups: [{ id: "group_1" }],
    id: "contact_2",
    im_addresses: [],
    object: "contact",
    phone_numbers: ["+0987654321"],
    physical_addresses: [],
    picture_url: "https://images.unsplash.com/photo-1494790108755-2616b332c9c1?w=150&h=150&fit=crop&crop=face",
    surname: "Smith",
    source: "nylas",
    web_pages: [],
    updated_at: 1704067200,
    job_title: "Product Manager",
  },
  {
    emails: [{ email: "mike.wilson@acme.com" }],
    given_name: "Mike",
    grant_id: "grant_123",
    groups: [{ id: "group_2" }],
    id: "contact_3",
    im_addresses: [],
    object: "contact",
    phone_numbers: ["+1122334455"],
    physical_addresses: [],
    picture_url: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",
    surname: "Wilson",
    source: "nylas",
    web_pages: [],
    updated_at: 1704067200,
    job_title: "CEO",
  },
  {
    emails: [{ email: "sarah.johnson@acme.com" }],
    given_name: "Sarah",
    grant_id: "grant_123",
    groups: [{ id: "group_2" }],
    id: "contact_4",
    im_addresses: [],
    object: "contact",
    phone_numbers: ["+5566778899"],
    physical_addresses: [],
    picture_url: "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",
    surname: "Johnson",
    source: "nylas",
    web_pages: [],
    updated_at: 1704067200,
    job_title: "Designer",
  },
];

// Mock Messages
export const mockMessages: NylasMessageWithContact[] = [
  {
    starred: false,
    unread: false,
    folders: ["INBOX"],
    subject: "Project Update",
    thread_id: "thread_1",
    body: "<p>Hi there!</p><p>I wanted to give you a quick update on the project we discussed last week. We've made significant progress on the user interface and the backend API is almost complete.</p><p>Could we schedule a meeting next week to review the progress?</p><p>Best regards,<br>John</p>",
    grant_id: "grant_123",
    id: "msg_1",
    object: "message",
    snippet: "Hi there! I wanted to give you a quick update on the project we discussed last week...",
    bcc: [],
    cc: [],
    attachments: [],
    from: [{ email: "john.doe@example.com" }],
    reply_to: [{ email: "john.doe@example.com" }],
    to: [{ email: "user@company.com" }],
    date: Date.now() - 3600000, // 1 hour ago
    derivedContact: {
      email: "john.doe@example.com",
      derivedName: "John Doe",
      nylasContact: mockNylasContacts[0],
    },
    isFromUser: false,
  },
  {
    starred: false,
    unread: true,
    folders: ["INBOX"],
    subject: "Re: Project Update",
    thread_id: "thread_1",
    body: "<p>Thanks for the update, John!</p><p>The progress sounds great. I'm available for a meeting on Tuesday or Wednesday next week. Let me know what works best for you.</p><p>Looking forward to seeing the demo!</p>",
    grant_id: "grant_123",
    id: "msg_2",
    object: "message",
    snippet: "Thanks for the update, John! The progress sounds great...",
    bcc: [],
    cc: [],
    attachments: [],
    from: [{ email: "user@company.com" }],
    reply_to: [{ email: "user@company.com" }],
    to: [{ email: "john.doe@example.com" }],
    date: Date.now() - 1800000, // 30 minutes ago
    derivedContact: {
      email: "john.doe@example.com",
      derivedName: "John Doe",
      nylasContact: mockNylasContacts[0],
    },
    isFromUser: true,
  },
  {
    starred: false,
    unread: false,
    folders: ["INBOX"],
    subject: "Design Feedback",
    thread_id: "thread_2",
    body: "<p>Hey!</p><p>I've reviewed the latest design mockups you sent. Overall, I think they look fantastic! The color scheme and typography choices are spot-on.</p><p>I have a few minor suggestions:</p><ul><li>Could we make the CTA buttons slightly larger?</li><li>The spacing between sections could be increased a bit</li></ul><p>What do you think?</p>",
    grant_id: "grant_123",
    id: "msg_3",
    object: "message",
    snippet: "Hey! I've reviewed the latest design mockups you sent...",
    bcc: [],
    cc: [],
    attachments: [],
    from: [{ email: "jane.smith@example.com" }],
    reply_to: [{ email: "jane.smith@example.com" }],
    to: [{ email: "user@company.com" }],
    date: Date.now() - 7200000, // 2 hours ago
    derivedContact: {
      email: "jane.smith@example.com",
      derivedName: "Jane Smith",
      nylasContact: mockNylasContacts[1],
    },
    isFromUser: false,
  },
  {
    starred: false,
    unread: false,
    folders: ["INBOX"],
    subject: "Partnership Opportunity",
    thread_id: "thread_3",
    body: "<p>Hello,</p><p>I hope this email finds you well. I'm reaching out to discuss a potential partnership opportunity between our companies.</p><p>We've been following your work and are impressed by your innovative approach to software development. We believe there could be significant synergies between our organizations.</p><p>Would you be interested in scheduling a call to explore this further?</p><p>Best regards,<br>Mike Wilson<br>CEO, Acme Corp</p>",
    grant_id: "grant_123",
    id: "msg_4",
    object: "message",
    snippet: "Hello, I hope this email finds you well. I'm reaching out to discuss a potential partnership...",
    bcc: [],
    cc: [],
    attachments: [],
    from: [{ email: "mike.wilson@acme.com" }],
    reply_to: [{ email: "mike.wilson@acme.com" }],
    to: [{ email: "user@company.com" }],
    date: Date.now() - 86400000, // 1 day ago
    derivedContact: {
      email: "mike.wilson@acme.com",
      derivedName: "Mike Wilson",
      nylasContact: mockNylasContacts[2],
    },
    isFromUser: false,
  },
  {
    starred: false,
    unread: true,
    folders: ["INBOX"],
    subject: "New design assets",
    thread_id: "thread_4",
    body: "<p>Hi!</p><p>I've just uploaded the new design assets to our shared drive. The package includes:</p><ul><li>Updated logo variations</li><li>New color palette</li><li>Icon set (SVG and PNG formats)</li><li>Typography guidelines</li></ul><p>Please take a look and let me know if you need any adjustments!</p><p>Thanks!</p>",
    grant_id: "grant_123",
    id: "msg_5",
    object: "message",
    snippet: "Hi! I've just uploaded the new design assets to our shared drive...",
    bcc: [],
    cc: [],
    attachments: [],
    from: [{ email: "sarah.johnson@acme.com" }],
    reply_to: [{ email: "sarah.johnson@acme.com" }],
    to: [{ email: "user@company.com" }],
    date: Date.now() - 43200000, // 12 hours ago
    derivedContact: {
      email: "sarah.johnson@acme.com",
      derivedName: "Sarah Johnson",
      nylasContact: mockNylasContacts[3],
    },
    isFromUser: false,
  },
];

// Mock Threads
export const mockThreads: ForumThreadWithContact[] = [
  {
    starred: false,
    unread: true,
    folders: ["INBOX"],
    latest_draft_or_message: {
      starred: false,
      unread: true,
      folders: ["INBOX"],
      subject: "Re: Project Update",
      thread_id: "thread_1",
      body: "<p>Thanks for the update, John!</p>",
      grant_id: "grant_123",
      id: "msg_2",
      object: "message",
      snippet: "Thanks for the update, John! The progress sounds great...",
      bcc: [],
      cc: [],
      attachments: [],
      from: [{ email: "user@company.com" }],
      reply_to: [{ email: "user@company.com" }],
      to: [{ email: "john.doe@example.com" }],
      date: Date.now() - 1800000,
    },
    has_attachments: false,
    has_drafts: false,
    grant_id: "grant_123",
    id: "thread_1",
    object: "thread",
    snippet: "Thanks for the update, John! The progress sounds great...",
    subject: "Project Update",
    participants: [
      { email: "john.doe@example.com", name: "John Doe" },
      { email: "user@company.com" },
    ],
    message_ids: ["msg_1", "msg_2"],
    draft_ids: [],
    earliest_message_date: Date.now() - 3600000,
    latest_message_received_date: Date.now() - 1800000,
    latest_message_sent_date: Date.now() - 1800000,
    derivedContact: {
      name: "John Doe",
      email: "john.doe@example.com",
      nylasContact: mockNylasContacts[0],
    },
  },
  {
    starred: false,
    unread: false,
    folders: ["INBOX"],
    latest_draft_or_message: {
      starred: false,
      unread: false,
      folders: ["INBOX"],
      subject: "Design Feedback",
      thread_id: "thread_2",
      body: "<p>Hey! I've reviewed the latest design mockups you sent...</p>",
      grant_id: "grant_123",
      id: "msg_3",
      object: "message",
      snippet: "Hey! I've reviewed the latest design mockups you sent...",
      bcc: [],
      cc: [],
      attachments: [],
      from: [{ email: "jane.smith@example.com" }],
      reply_to: [{ email: "jane.smith@example.com" }],
      to: [{ email: "user@company.com" }],
      date: Date.now() - 7200000,
    },
    has_attachments: false,
    has_drafts: false,
    grant_id: "grant_123",
    id: "thread_2",
    object: "thread",
    snippet: "Hey! I've reviewed the latest design mockups you sent...",
    subject: "Design Feedback",
    participants: [
      { email: "jane.smith@example.com", name: "Jane Smith" },
      { email: "user@company.com" },
    ],
    message_ids: ["msg_3"],
    draft_ids: [],
    earliest_message_date: Date.now() - 7200000,
    latest_message_received_date: Date.now() - 7200000,
    derivedContact: {
      name: "Jane Smith",
      email: "jane.smith@example.com",
      nylasContact: mockNylasContacts[1],
    },
  },
  {
    starred: false,
    unread: false,
    folders: ["INBOX"],
    latest_draft_or_message: {
      starred: false,
      unread: false,
      folders: ["INBOX"],
      subject: "Partnership Opportunity",
      thread_id: "thread_3",
      body: "<p>Hello, I hope this email finds you well...</p>",
      grant_id: "grant_123",
      id: "msg_4",
      object: "message",
      snippet: "Hello, I hope this email finds you well. I'm reaching out to discuss a potential partnership...",
      bcc: [],
      cc: [],
      attachments: [],
      from: [{ email: "mike.wilson@acme.com" }],
      reply_to: [{ email: "mike.wilson@acme.com" }],
      to: [{ email: "user@company.com" }],
      date: Date.now() - 86400000,
    },
    has_attachments: false,
    has_drafts: false,
    grant_id: "grant_123",
    id: "thread_3",
    object: "thread",
    snippet: "Hello, I hope this email finds you well. I'm reaching out to discuss a potential partnership...",
    subject: "Partnership Opportunity",
    participants: [
      { email: "mike.wilson@acme.com", name: "Mike Wilson" },
      { email: "user@company.com" },
    ],
    message_ids: ["msg_4"],
    draft_ids: [],
    earliest_message_date: Date.now() - 86400000,
    latest_message_received_date: Date.now() - 86400000,
    derivedContact: {
      name: "Mike Wilson",
      email: "mike.wilson@acme.com",
      nylasContact: mockNylasContacts[2],
    },
  },
  {
    starred: false,
    unread: true,
    folders: ["INBOX"],
    latest_draft_or_message: {
      starred: false,
      unread: true,
      folders: ["INBOX"],
      subject: "New design assets",
      thread_id: "thread_4",
      body: "<p>Hi! I've just uploaded the new design assets...</p>",
      grant_id: "grant_123",
      id: "msg_5",
      object: "message",
      snippet: "Hi! I've just uploaded the new design assets to our shared drive...",
      bcc: [],
      cc: [],
      attachments: [],
      from: [{ email: "sarah.johnson@acme.com" }],
      reply_to: [{ email: "sarah.johnson@acme.com" }],
      to: [{ email: "user@company.com" }],
      date: Date.now() - 43200000,
    },
    has_attachments: false,
    has_drafts: false,
    grant_id: "grant_123",
    id: "thread_4",
    object: "thread",
    snippet: "Hi! I've just uploaded the new design assets to our shared drive...",
    subject: "New design assets",
    participants: [
      { email: "sarah.johnson@acme.com", name: "Sarah Johnson" },
      { email: "user@company.com" },
    ],
    message_ids: ["msg_5"],
    draft_ids: [],
    earliest_message_date: Date.now() - 43200000,
    latest_message_received_date: Date.now() - 43200000,
    derivedContact: {
      name: "Sarah Johnson",
      email: "sarah.johnson@acme.com",
      nylasContact: mockNylasContacts[3],
    },
  },
];

// Mock Forum Contacts
export const mockForumContacts: ForumContact[] = mockNylasContacts.map((contact, index) => ({
  email: contact.emails[0].email,
  derivedName: `${contact.given_name} ${contact.surname}`,
  latestMessage: mockThreads[index]?.latest_draft_or_message,
  nylasContact: contact,
}));

// Mock Contacts Response
export const mockContactsResponse: ForumContactsResponse = {
  contacts: mockForumContacts.filter(contact => !contact.email.includes('@acme.com')),
  teamContacts: mockForumContacts.filter(contact => contact.email.includes('@acme.com')),
  nonContacts: [], // Usually derived from threads where participants aren't in contacts
};

// API Response wrappers
export const mockContactsApiResponse: FetchDataResponse<ForumContactsResponse> = {
  data: [mockContactsResponse],
};

export const mockMessagesApiResponse: FetchDataResponse<NylasMessageWithContact[]> = {
  data: [mockMessages],
};

export const mockThreadsApiResponse: FetchDataResponse<ForumThreadWithContact[]> = {
  data: [mockThreads],
}; 